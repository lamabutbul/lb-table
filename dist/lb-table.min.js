"use strict";angular.module("lbTable",[]),angular.module("lbTable").directive("lbTableRowNumber",[function(){return{restrict:"A",require:"^^lbTable",template:`\n            <span ng-bind="$index + 1"></span>\n        `,link:function(e,l,t,n){}}}]),angular.module("lbTable").directive("lbTableSelectAll",[function(){return{restrict:"A",require:"^^lbTableSelect",template:`\n            <input type="checkbox" ng-model="lbTableSelectAllController.selected" ng-click="lbTableSelectAllController.onChange()" />\n        `,controllerAs:"lbTableSelectAllController",controller:[function(){this.selected=!1}],link:function(e,l,t,n){var r=e.lbTableSelectAllController;r.onChange=function(){r.selected?n.selectAll():n.unselectAll()}}}}]),angular.module("lbTable").directive("lbTableSelectRow",[function(){return{restrict:"A",require:"^^lbTableSelect",scope:{key:"=lbTableSelectRow"},template:`\n            <input type="checkbox" ng-model="lbTableSelectRowController.selected" ng-click="lbTableSelectRowController.onChange()" />\n        `,controllerAs:"lbTableSelectRowController",controller:[function(){this.selected=!1}],link:function(e,l,t,n){var r=e.lbTableSelectRowController;r.onChange=function(){r.selected?n.select(e.key):n.unselect(e.key)},e.$watch(function(){return n.model["*"]},function(e,l){e!==l&&(r.selected=e)})}}}]),angular.module("lbTable").directive("lbTableSelect",["$parse",function(e){return{restrict:"A",require:"lbTable",controllerAs:"lbTableSelectController",controller:[function(){}],link:function(l,t,n,r){var o=l.lbTableSelectController,i=o.model=r.state.select=e(n.lbTableSelect)(l);angular.extend(i,{"*":!1,in:{},nin:{}}),o.selectAll=function(){i["*"]=!0,i.in={},i.nin={}},o.unselectAll=function(){i["*"]=!1,i.in={},i.nin={}},o.select=function(e){i.in[e]=!0},o.unselect=function(e){i["*"]?i.nin[e]=!0:e in i.in&&delete i.in[e]}}}}]),angular.module("lbTable").directive("lbTableService",["$injector",function(e){function l(e){let l={};if(e.sort.length){let t=[];for(let l=0;l<e.sort.length;l++)t.push((e.sort[l][1]>0?"":"-")+e.sort[l][0]);l.sort=t.join(",")}return l}function t(e){let l={};if(e.sort.length){let t=[];for(let l=0;l<e.sort.length;l++)t.push([e.sort[l][0],e.sort[l][1]>0?"ASC":"DESC"]);l.sort=t}return l}return{restrict:"A",require:"lbTable",link:function(n,r,o,i){let c=e.get(o.lbTableService),a=null;i.pipe=function(){c.findAll(l(i.state)).then(function(){a&&a(),a=c.bindAll(t(i.state),n,o.lbTable)})},i.pipe()}}}]),angular.module("lbTable").directive("lbTableSort",[function(){return{restrict:"A",require:"^^lbTableSortable",link:function(e,l,t,n){l.addClass("lb-sortable");let r=t.lbTableSort;l.on("click",function(t){let o=n.sort(r);l.parent().children().removeClass("lb-sort-asc lb-sort-desc"),o>0?l.addClass("lb-sort-asc"):l.addClass("lb-sort-desc"),e.$apply()})}}}]),angular.module("lbTable").directive("lbTableSortable",["$parse",function(e){return{restrict:"A",require:"lbTable",controllerAs:"lbTableSortableController",controller:[function(){}],link:function(l,t,n,r){let o=l.lbTableSortableController,i=o.model=r.state.sort=e(n.lbTableSortable)(l);o.sort=function(e){let l=1;for(let t=i.length-1;t>=0;t--)i[t][0]==e&&(l=-i[t][1]),i.pop();return i.push([e,l]),r.pipe(),l}}}}]),angular.module("lbTable").directive("lbTable",[function(){return{restrict:"A",controllerAs:"lbTableController",controller:[function(){var e=this;e.state={},e.pipe=function(){}}]}}]);